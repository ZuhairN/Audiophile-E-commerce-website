@use 'styles/utils' as *;

.Cart {
    @include flex();
    position: relative;
    z-index: 50;

    &__logo {
        font-size: 2.4rem;
        color: $clr-white;
        cursor: pointer;
        transition: all 250ms ease-in-out;

        &:hover {
            color: $clr-orange;
        }
    }

    &__num {
        @include flex();
        position: absolute;
        top: -.5rem;
        right: -1rem;
        color: $clr-white;
        background-color: $clr-orange;
        border-radius: 50%;
        width: 1.8rem;
        height: 1.8rem;
        font-size: 1.2rem;
        font-weight: 500;
        pointer-events: none;
    }


    @include breakpoint(tablet) {
        margin-left: auto;
    }

    &__details {
        @include flex($direct: column, $align: stretch, $gap: 2.4rem);
        position: absolute;
        top: 0;
        right: 0;
        min-width: 34.5rem;
        padding: 3.2rem;
        border-radius: .8rem;
        background-color: $clr-white;
        text-align: center;
        opacity: 0;
        visibility: hidden;
        transform: scale(.1);
        transform-origin: top right;
        transition: all 250ms ease-out;

        &.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(9.6rem) scale(1);

            @include breakpoint(mobile) {
                transform: translate(calc(-50vw + 2.4rem + 34.5rem / 2), 9.6rem) scale(1);
            }
        }

        &__logo {
            font-size: 10rem;
            align-self: center;
        }
    }

    &__title {
        @include flex($justify: space-between);

        button {
            color: $clr-txt;
            font-size: 1.5rem;
            text-decoration: underline rgba($clr-txt, .3);

            &:hover {
                text-decoration-color: $clr-orange;
            }
        }
    }

    &__item {
        @include flex($justify: flex-start);

        img {
            border-radius: .8rem;
        }

        >:last-child {
            margin-left: auto;
        }

        &__price {
            @include flex($direct: column, $align: flex-start, $gap: 0);
            font-size: 1.4rem;
            font-weight: 700;

            >:last-child {
                color: $clr-txt;
            }
        }
    }

    &__count {
        @include flex($gap: 0);
        background-color: $clr-l-gray;
        font-size: 1.4rem;
        font-weight: 700;
        min-height: 3.2rem;
        min-width: 9rem;

        >span {
            text-align: center;
            min-width: 2ch;
        }

        >*:not(:nth-child(2)) {
            font: inherit;
            align-self: stretch;
            flex: 1;
            color: rgba($clr-txt, .3);

            svg {
                @include flex();
                margin-inline: auto;
            }

            &:hover {
                color: $clr-orange;
                background-color: $clr-gray;
            }
        }
    }

    &__totalPrice {
        @include flex($justify: space-between);

        span {
            color: $clr-txt;
            font-size: 1.5rem;
        }
    }

    &__lightbox {
        display: block;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: $clr-txt;
        opacity: 0;
        visibility: hidden;
        transition: all 250ms ease-out;
        z-index: -1;

        &.active {
            opacity: 1;
            visibility: visible;
        }
    }
}